# 定义  

## 基础定义  
### 值  
一个值满足以下条件  
- 可被观测，观测的过程与结果未定义，但返回一个node  
- 可被更改，更改的过程与结果未定义  

### node  
一个node满足以下条件  
- 当没有任何引用指向此node时此node析构  
- 可被以任一node作参数索引，索引的过程与结果未定义，但返回一个值  
- 可被求值，求值的过程与结果未定义，但返回一个值  
- 可被调用，调用的过程与结果未定义，但返回一个值  
- 可被以任一node作参数替换，替换的过程与结果未定义，不作返回  
- 可转换为一混沌布尔值，过程与结果未定义  
  * 混沌布尔值：为 真且非假、非真且假、真且假、非真且非假 四种可能  
- 两node可相互比较：以比较优先级低的一方作为参数调用比较优先级高的一方所提供的比较方法，过程与结果未定义，但返还一个混沌布尔值  
  * 当两node比较优先级相同时，以双方作为参数调用另一方所提供的比较方法 并对结果进行且（and）运算，调用顺序未定义  
  * 混沌布尔值的且（and）运算：双方都为真时真，双方都为假时假  
  * 比较语义：node内容相同  
- 两node可相互测同：以测同优先级低的一方作为参数调用测同优先级高的一方所提供的测同方法，过程与结果未定义，但返还一个混沌布尔值  
  * 当两node测同优先级相同时，以双方作为参数调用另一方所提供的测同方法 并对结果进行且（and）运算，调用顺序未定义  
  * 混沌布尔值的且（and）运算：双方都为真时真，双方都为假时假  
  * 测同语义：这是同一个node  

## 经典行为  
即常见行为  

### 经典值的行为  
- 可被观测，观测的结果为其内容  
- 可被更改，更改其内容  

### 经典node的行为  
- 可被以任一node作参数索引，返回一个值，相同node的索引结果必定为同一个值，且值未被更改时内容为`void`  
- 可被求值，不做任何事并返回一个经典值，内容为自身  
- 可被调用，不做任何事并返回一个经典值，内容为自身  
- 可被以任一node作参数替换，所有指向此node的引用都被**强制**更改为replace指定的引用，如同这个node本身就是替换参数一般  
- 可转换为一混沌布尔值：真且非假  
- 两node可相互比较：比较优先级36（特殊值的优先级为72），比较方法：参数内容与自身相同时返回真且非假，否则返回非真且假  
  * 比较语义：node内容相同  
- 两node可相互测同：测同优先级36（特殊值的优先级为72），测同方法：参数为自身时返回真且非假，否则返回非真且假  
  * 测同语义：这是同一个node  

# 表现  

## node作s表达式  
### expr_cons  
expr_cons是满足以下声明的node  
- 规定（缩写规定）：以特殊值`t`或特殊值`nil`索引得其**car**或**cdr**  
- 要求：可被求值，返回以其cdr作参数列表调用car的结果  
### s表达式  
对于s表达式`(- 1000 7)`，如同lisp语言一般看做列表长度3、元素依次为`-`、`1000`、`7`的expr_cons列表  
* 以node表示为`(- 1000 7)`，暨：  
  - car为`-`，cdr为`(1000 7)`，暨：  
    * car为`1000`，cdr为`(7)`，暨：  
      - car为`7`，cdr为特殊值`nil`。  

求值时以`(1000 7)`作参数调用函数`-`  

## node作函数  
### func_cons  
func_cons是满足以下声明的node  
- 规定（缩写规定）：以特殊值`t`或特殊值`nil`索引得其**car**或**cdr**  
- 要求：可被调用，备份当前特殊值`args`并将特殊值`args`设置为调用参数列表，随后求值自身、恢复特殊值`args`、返回求值结果  
- 要求：可被求值，返回值规则如下：
  * 若cdr混沌逻辑值为假，求值car并返回结果  
  * 否则，求值car并丢弃结果，返回其cdr的求值结果  
### 函数  
函数暨任意可求值node的func_cons列表  
调用时备份当前特殊值`args`并将特殊值`args`设置为调用参数列表，随后依序求值列表内容、恢复特殊值`args`、返回最后一元素的求值结果  
